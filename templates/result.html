<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/result.css') }}">
    <title>Result</title>
</head>
<body>
    <h2 style="color:gray;">Search Result</h2>
    <form action="/sources" method="GET">
        <div>
            <div class="searchbox">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
                </svg>
                <input
                    aria-label="Search for Article, Researcher"
                    autocomplete="off"
                    inputmode="search"
                    placeholder="Search for Article, Researcher"
                    type="search"
                    name="txtSearchTerm"
                    value="{{ search_term }}"
                />
            </div>
        </div>
    </form>
    <hr/>
    <div style="margin-left:10px;">
        {% for title, datas in data.items() %}
            <br>
            <h1 class='title'>{{ title }} </h1>
            <ul>
                {% for data in datas %}
                    {% if title == 'Researchers' %}
                        {% if data %}
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank' >{{data.name}}</a></h2></li>
                            <div style="margin-left:10px;">
                                <p class='faded'>{{data.url}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Articles' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}}<br> {{data.description}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Dataset' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}}<br> {{data.description}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Software' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}} (Version: {{data.version}})<br> {{data.description}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Presentation' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}}<br> {{data.description}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Poster' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}}<br> {{data.description}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Video' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Lesson' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Institute' %}
                        {% if data %}
                            <p class='url'>{{data.id}}, Type: {{data.institute_type}}</p>
                            <li><h2 class='subtitle'><a href='{{data.homepage_url}}' target='_blank'>{{data.name}}</a> ({{data.acronyms_name}})</h2>
                                <span style="color: gray;"> {{data.country}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.description}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Publisher' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.name}}</a> </h2>
                                <span style="color: gray;"> - H-Index: {{data.h_index}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Funder' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.homepage_url}}' target='_blank'>{{data.name}}</a> (Grants: {{data.grants_count}})</h2>
                                <span style="color: gray;"> - {{data.description}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Image' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a> </h2>
                                <span style="color: gray;"> - {{data.date}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.authors}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                    {% if title == 'Zenodo' %}
                        {% if data %}
                            <p class='url'>{{data.url}}</p>
                            <li><h2 class='subtitle'><a href='{{data.url}}' target='_blank'>{{data.title}}</a></h2>
                                <span style="color: gray;"> - {{data.date}}<br>{{data.description}}</span></li>

                            <div style="margin-left:10px;">
                                <p>{{data.resource_type}}</p>
                            </div>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </ul>
        {% else %}
            <p>No results found for {{search_term}}</p>
        {% endfor %}
    </div>
</body>
</html>